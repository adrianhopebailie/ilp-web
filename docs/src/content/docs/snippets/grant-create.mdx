---
title: Create a grant request
---

import { Disclosure, CodeBlock, LinkOut } from '@interledger/docs-design-system'
import { Tabs, TabItem } from '@astrojs/starlight/components'
import ChunkedSnippet from '/src/components/ChunkedSnippet.astro'
import Global from '/src/partials/global-prerequisites.mdx'
import Ts from '/src/partials/ts-prerequisites.mdx'

Before a client can call the Open Payments API, it must request/receive a grant from the appropriate authorization server. The request must indicate the resource the client intends to work with and the actions the client wants to take at the resource server.

These code snippets enable a client to request a grant for each supported resource (`incoming-payment`, `quote`, an
d `outgoing-payment`). Each grant request includes all valid actions the client can take for the resource at the resource server.

:::note
When constructing a transaction, the client first requests a grant from the recipient's (payee's) authorization server to create an `incoming-payment` resource. The client then requests grants to create the `quote` and `outgoing-payment` resources from the sender's (payer's) authorization server.
:::

## Before you begin

<Global />

## Request an incoming payment grant

<Tabs>
<TabItem label='TypeScript'>
<Ts />

<ChunkedSnippet
  source='https://raw.githubusercontent.com/interledger/open-payments-snippets/main/grant/grant-incoming-payment.ts'
  chunk='1'
/>

<ChunkedSnippet
  source='https://raw.githubusercontent.com/interledger/open-payments-snippets/main/grant/grant-incoming-payment.ts'
  chunk='2'
/>

<ChunkedSnippet
  source='https://raw.githubusercontent.com/interledger/open-payments-snippets/main/grant/grant-incoming-payment.ts'
  chunk='3'
/>

<ChunkedSnippet
  source='https://raw.githubusercontent.com/interledger/open-payments-snippets/main/grant/grant-incoming-payment.ts'
  chunk='4'
/>

<ChunkedSnippet
  source='https://raw.githubusercontent.com/interledger/open-payments-snippets/main/grant/grant-incoming-payment.ts'
  chunk='5'
/>

</TabItem>
</Tabs>

<p>
  <LinkOut href='https://github.com/interledger/open-payments-snippets/blob/main/grant/grant-incoming-payment.ts'>
    View full source
  </LinkOut>
</p>

## Request a quote grant

<Tabs>
<TabItem label='TypeScript'>
<Ts />

<ChunkedSnippet
  source='https://raw.githubusercontent.com/interledger/open-payments-snippets/main/grant/grant-quote.ts'
  chunk='1'
/>

<ChunkedSnippet
  source='https://raw.githubusercontent.com/interledger/open-payments-snippets/main/grant/grant-quote.ts'
  chunk='2'
/>

<ChunkedSnippet
  source='https://raw.githubusercontent.com/interledger/open-payments-snippets/main/grant/grant-quote.ts'
  chunk='3'
/>

<ChunkedSnippet
  source='https://raw.githubusercontent.com/interledger/open-payments-snippets/main/grant/grant-quote.ts'
  chunk='4'
/>

<ChunkedSnippet
  source='https://raw.githubusercontent.com/interledger/open-payments-snippets/main/grant/grant-quote.ts'
  chunk='5'
/>

</TabItem>
</Tabs>

<p>
  <LinkOut href='https://github.com/interledger/open-payments-snippets/blob/main/grant/grant-quote.ts'>
    View full source
  </LinkOut>
</p>

## Request an outgoing payment grant

<Tabs>
<TabItem label='TypeScript'>
<Ts />

<ChunkedSnippet
  source='https://raw.githubusercontent.com/interledger/open-payments-snippets/main/grant/grant-outgoing-payment.ts'
  chunk='1'
/>

<ChunkedSnippet
  source='https://raw.githubusercontent.com/interledger/open-payments-snippets/main/grant/grant-outgoing-payment.ts'
  chunk='2'
/>

<ChunkedSnippet
  source='https://raw.githubusercontent.com/interledger/open-payments-snippets/main/grant/grant-outgoing-payment.ts'
  chunk='3'
/>

<ChunkedSnippet
  source='https://raw.githubusercontent.com/interledger/open-payments-snippets/main/grant/grant-outgoing-payment.ts'
  chunk='4'
/>

<ChunkedSnippet
  source='https://raw.githubusercontent.com/interledger/open-payments-snippets/main/grant/grant-outgoing-payment.ts'
  chunk='5'
/>

</TabItem>
</Tabs>

<p>
  <LinkOut href='https://github.com/interledger/open-payments-snippets/blob/main/grant/grant-outgoing-payment.ts'>
    View full source
  </LinkOut>
</p>

## References

- [Grant negotiation and authorization](/introduction/grants)
- [API specification](/apis/auth-server/operations/post-request)
